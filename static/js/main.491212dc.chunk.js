(this.webpackJsonplister=this.webpackJsonplister||[]).push([[0],{162:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),o=t.n(c),l=(t(68),t(69),t(17)),u={};function i(e){return"object"!==typeof e?u:(e.name="string"===typeof e.name?e.name:u.name,e)}function s(e){return e.name?"".concat(e.name).concat(100*Math.random()):Math.random()}function p(e){return"string"!==typeof e||"http"===e.slice(0,4)}var m=function(e){var n=e.item,t=Object.keys(n);return t.forEach((function(e){})),r.a.createElement("li",{className:"item"},t.map((function(e){return p(n[e])?null:r.a.createElement("span",{key:s(e),className:"".concat(e)},function(e){var t="".concat(e.substring(0,1).toUpperCase()).concat(e.substring(1)).replace("_"," "),a="".concat(n[e].substring(0,1).toUpperCase()).concat(n[e].substring(1)).replace("_"," ");return p(n[e])?null:"".concat(t,":  ").concat(a)}(e))})))},f=t(16),g=t.n(f),d=t(2),O=t(62),v=t(61),E=t.n(v),h=t(30);function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"CHANGE_GROUP_TO",group:e}}function _(e,n){return{type:"SET_NEXT_PAGE_FOR_GROUP",nextPageLink:e,groupName:n}}var N={currentGroup:null,data:{people:null,planets:null,films:null,species:null,vehicles:null,starships:null},nextPageForGroup:{people:null,planets:null,films:null,species:null,vehicles:null,starships:null},loading:!1};var G=h.createStore((function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=E()(n);switch(t.type){case"CHANGE_GROUP_TO":return a.currentGroup=t.group,a;case"ADD_GROUP_FROM_API":return a.data[t.groupName]=t.group,a;case"SET_NEXT_PAGE_FOR_GROUP":return a.nextPageForGroup[t.groupName]=t.nextPageLink,a;case"LOAD_MORE_TO_GROUP":return(e=a.data[t.groupName]).push.apply(e,Object(O.a)(t.nextPageData)),a;case"CHANGE_LOADING":return a.loading=t.payload,a;default:return n}}));G.dispatch(b("people"));var y=G;var P=function(){var e=Object(d.c)((function(e){return e.currentGroup})),n=Object(d.c)((function(e){return e.data})),t=Object(d.c)((function(e){return e.loading})),c=Object(d.c)((function(n){return n.nextPageForGroup[e]})),o=Object(d.b)(),u=Object(a.useState)(!1),p=Object(l.a)(u,2),f=p[0],O=p[1],v=Object(a.useState)(!0),E=Object(l.a)(v,2),h=E[0],b=E[1];Object(a.useEffect)((function(){n[e]||setTimeout((function(){b((function(e){return!e}))}),800)}),[h]);var N=Object(a.useState)({people:null,planets:null,films:null,species:null,vehicles:null,starships:null}),G=Object(l.a)(N,2);function y(){O(!0),console.log(c),g.a.get(c).then((function(n){!function(n){t=n.results,a=e,o(function(e,n){return{type:"LOAD_MORE_TO_GROUP",nextPageData:e,groupName:n}}(t,a)),function(e,n){o(_(e,n))}(n.next,e),O(!1);var t,a}(n.data)})).catch((function(e){return console.log("err",e)}))}return G[0],G[1],Object(a.useRef)(null),console.log("OUT nextPageForGroup is ",c),r.a.createElement("div",null,t?r.a.createElement("div",{className:"items-loading-screen"},"loading..."):null,r.a.createElement(r.a.Fragment,null,null!==n[e]?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"item-list"},n[e].map((function(e){return r.a.createElement(m,{key:s(e),item:i(e)})}))),c?r.a.createElement("button",{onClick:function(){return y()},className:"load-more item"},f?"loading more...":"-> Load more"):null):t?null:r.a.createElement("div",{className:"items-loading-screen",style:{visibility:h?"visible":"hidden"}},"Please select category")))};var j=function(e){var n=e.onGroupClick,t=e.groupName;return r.a.createElement("div",{className:"group",onClick:function(){return n(t)}},t)};var A=function(){var e=Object(d.c)((function(e){return e.data})),n=Object(d.b)(),t=function(e){return n(b(e))},a=function(e){return n(function(e){return{type:"CHANGE_LOADING",payload:e}}(e))};function c(e){function r(e,r){var c=r.results;!function(e,t){n(_(e,t))}(r.next,e),function(e,t){n(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"ADD_GROUP_FROM_API",group:e,groupName:n}}(e,t))}(c,e),t(e),a(!1)}a(!0);g.a.get("".concat("https://swapi.py4e.com/api/").concat(e)).then((function(n){return r(e,n.data)})).catch((function(e){return console.log("err loading from API",e)}))}function o(n){e[n]?t(n):c(n)}return r.a.createElement("div",{className:"group-list"},Object.keys(e).map((function(e){return r.a.createElement(j,{key:e,onGroupClick:o,groupName:e})})))};var k=function(){return r.a.createElement("div",{className:"interface"},r.a.createElement(A,null),r.a.createElement(P,null))};var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"app-header"},"MAY THE 4TH BE WITH YOU"),r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,{store:y},r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,n,t){e.exports=t(162)},68:function(e,n,t){},69:function(e,n,t){}},[[63,1,2]]]);
//# sourceMappingURL=main.491212dc.chunk.js.map